
@{
    ViewBag.Title = "Index";
}

<h2>Upcoming meetups</h2>
<div class="row" ng-controller="meetupsController">
    <div class="col-xs-6">
        <meetup-details ng-repeat="meetup in meetups"></meetup-details>
    </div>

    <div class="col-xs-6">
        <form class="well" name="addMeetupForm" ng-submit="submitNewMeetup(newMeetup)" novalidate>
            <div class="form-group">
                <label for="name">Name</label>
                <input name="name" type="text" placeholder="Meetup Name" ng-model="newMeetup.name" blacklist="doge,lol,wtf" required />
                
                <p class="alert-danger" ng-show="addMeetupForm.name.$dirty && addMeetupForm.name.$error.blacklist">Please make your meetup name less silly!</p>
            </div>

            <div class="form-group">
                <label for="location">Location</label>
                <input name="location" type="text" placeholder="Meetup Location" ng-model="newMeetup.location" required />
            </div>

            <div class="form-group">
                <label for="email">E-mail</label>
                <input name="email" type="email" placeholder="Organiser E-mail" ng-model="newMeetup.email" required />
                
                <p class="alert-danger" ng-show="addMeetupForm.email.$dirty && addMeetupForm.email.$error.required">E-mail is required.</p>
            </div>

            <div class="form-group">
                <label for="date">Date</label>
                <input name="date" type="date" ng-model="newMeetup.date" required />
            </div>

            <input class="btn btn-primary" type="submit" value="Add Meetup" ng-disabled="!addMeetupForm.$valid" />
        </form>
    </div>
</div>

@section FooterScripts{
    <script src="~/Angular/meetups.controller.js"></script>
    <script src="~/Angular/meetupDetails.directive.js"></script>
    <script src="~/Angular/blackList.directive.js"></script>
    <script src="~/Angular/reviews.service.js"></script>
}
